<script type="text/javascript"><![CDATA[
class Token {

    constructor(tokenInstance) {
        this.props = tokenInstance
    }

    render() {
        return`
        <div>
            <div id="mainHeader">
              <h2>CDP Portal</h2>
              <p>#${this.props.CDP_number}</p>
              <br>
              <div class="inline-img"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAABGdBTUEAALGPC/xhBQAABJ9JREFUWAnFl9lvG0Ucx7/r3Y3XB058Zsl9qI6DaRORRq3UmyAipBaUNmeTioY3HorECwghoO/pU/8BKiRakQShFKogoKggJCR4qR1IUBJwAylpUuombdr42l1m7Gwc22unUMcdaT3r2dmZz3x/x8wyOD3eC1apwL3V8xjpjuAJFR1YhgdnGILZ8hP6xwZw+EPhSbAwZFIGg19e0YniS0WQEVpY8CEaO4ebwVFcGwwVCoqNT9Tc/bsCnDqxZycnii4xEJWPg8cxeHtWYW+fxo2x2HYDJUCuX5qHu7MyxPMtez0V2FVeCqvVKgZihQNKgNDlNvX+evf+g74yh8NkMQuwW4xorigcUBLEf2kZ3m5+SUJbY7kLskych2HgKCkMUBKEqtLQMREKRV62WoudjmIjFOI49NIGUo7h2b77sL04kw8fSgWZHAnD27scCEVO7KoUwep0FC9eMoFsxKkl4tT5AUoFoVN6OiYRlfbpTca6coclbqIESuI3N1APUaj9fylE80hmOXnlIKzmb/qPtPJGQR83T2anRAtLlhKLyQjcCuLb2T+BpUUfYtIQ5oOf/pc8lKkIHX/i4hw8nXURvqi5VrTmBNFWiIY9NdmjK6QNQmGaO6furKz1V4tOg9lQlBOGdn9coOwgvk/u4JluYxDMYXeZk871SIUCcSwDJwn7pngeok69tULZQei0DR3+B2vR405Hid1mMWypCkk7JNQVrDwMQ5IU6PXcpsS4DsThKHaSrSPNqXODTI6sETuvzoWirzRViSjiGdCIZjUuCiHJCr6bmMb3P/8S9M/dUqwmI297ygSF7KsbidFGtg6qkAr0HImy62Mx7ajZbISuYRZm89XSqspDdgMPmWqfViSSht1lLrAcj8tXf5jBSmQ/eOYAypyjrz2/BzommY/UKPvr9jK++i0A/HN7Corug2SPtMEz/ypkZRRC+9rAk4ltBF6GwpBNIkeJ2zH5nEveZrkThFOMw3Ho6O5G6HldVj8hViHpQ8EOT617JjA/BY4ztnnrwRM7SgRJVWLm5l2Sb+aAxSUfZHLu0ZFzz4XBUG7TdA3bYLL82H6wxV0j2ogDZoFdb6aLpIrdI85KAcwCCXvSFk94i5sANA5euRXRG86UVpe7q1xbQ8QR4vZhUGIS4k4diZKMuwXA+hqI72YrJ0d3wCic2eeuIs5GImLDCbK9kGhXTRD4O7cC6aNkB+EM73jqa+xOq3lLk9BBVYAUH9AwQTqA+l8bZOCLAzCZB1rqyjN2X/VFtX5cAHWcTJCzZ3X4g3m/tbGWt5j15ECvdk2t8wWgjpoJMtvag1L7C95qkYSj2i1Z5xtAHTkVpGu4GJzu3TZPLckZbIpvbBeANojB9Lqtosxb97R9A2K7ATJBTn9WA55/c38DCVcar6TQRJQZBRbyBXgk71+ASdNIRW/XN1S7Kl0WhMIaiYgnAB/nHyBVkf7Le1FsGtxNwnV6Poivp28AC0t+SLEhbDNAKgjPv8dZSvSf+6bxcH4hCfDR9imgAqg1g1fH+yAIFxFd8yMaPge2ZAQXCgeggnBg5QjCobewOHse42+E1QeFrv8Fo2x9ZuFQZ0kAAAAASUVORK5CYII=" width="20px">&nbsp Move CDP
                &nbsp | &nbsp
              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAABJVJREFUSA3FVl9MW1UY/93eWwiDDgoMawkEAi6ZTjMeNqNEX0xI/JPMLQsjw0Rn4hvRR1/10Td99nVRsyW6iRLGA1miATN1BJDRjYTBQMxgbelaWrht7/X7HbjtvaMlxqzZl5z29Pt+3/e759zfd041XPz5Y0D/ElZeg6ahombbgE+3YVufaPhw1G5rD6GjpRGWVVFa+HzA0noMK/f/gUG2jiONONHVily+ssSGIfVl0StLa0IsZlm2Is1WmBjyJslFk8U/HXtqxGqrfT4Nhi4rr7CoyUEumkGyyHoCGTMLM5uDegVP+gHYRVKzym9geTOtFmhA19/YWFx+ZcOvf/rSse5AtVGZ3c/mLfwxezeJbP4LGL7J4to+Grs50PfaycZAFdjnT9J4LsWSJr4b++V3fN13irXVO1Yk2zuz64nUyfraRuTLtBULlHuog2K6vFupDQiHs6DivuZzUxsS3Hv3TrzwrQsys22q3+6T1ZkzRkwpY03WhnA48SLUzE2vRuN2qWPTL0+8Fn2ES+OTuBm5px6OhBwsSh9jxBD7uLEma0M4nFiROG0vxFOp+E7O8twV3KbVh48wPPlnFA8TZ2Zm7/w0cWcFuhBycE4fY8QQyxzH+HCsydoQDsdfJB65vY6tzGIqYxa2m1v3IJbE8ISQRhOncfnMVWS23pudnhuduLsKDs7pUzHBDE/cijLH2XbuCGuyNsixZ0VifGbBNGdiqYznINGZqft9MOw6lXOlP4H01sDM9NwYB+egj0aMbvhUjnLIh6THUtK7Uhvk2DMXsXiUwJKFFUvrobmhDmd7e4IItlzB+e/fUXkkWnpwWg2HlDHBEMsc5tJKCUv5VdT5MLV9AmNrHWmoFfITAYRavsEHI+8q+I2L2+Cg0ScxYoh1t2MpYTHFu+K0WVJgLPRMsBadz4YCyFn9TPSYZfV3hEMBYtyk5YTFXC9xCYExmUL5dX4F9yIL17GTHvKQ8kcmPbQ0v3CdGGKZQysnLBVTiMLHfoHZtoWJ+SVR71+j2EqeFyHFFPz94T4MyqDRJzFiiGWOMiUsEetjwmLMu2J6XAJjP95f38TsTGQF6fRgQb0D195GoP4HBGVwTlNqTw8Syxzm7gor6TmxFFY+9hO7BEZhhJsOI9zVFkZ1zeeC13Dh6ltoCn57rrfnEAfnyseYYIgNNx9WfxyLwtIKJ1Z5YpfACPLLP7Q3e47prc91DOHCtR9llZekZQJN9cIpg3P6GCOGWL++e/cUTyyzcGI5xK7Dbc+18EIax0Pnuttbw7XV8ieUl7jsWWeoCTmj6uirz3fVtASlT0XpvKnqDvnR1txYY9TWHX39xW4Rl0/5KbLE1g5uRxbncHnqK+CG57Ldv9XqBMt6TjASGFKw93intFXA0zK7rRZQMWIK1+YBwuISSxCLN5+VK7J4ghHIgiRxTiT6HKPP2QHHd5CwiCn+EXAy+C0CW4vFbU1r10pdc25ouTl7eVVquK9CN7Y0sQgsGt9M3Fr4u4FX3/+xvOxQXGq4r0J3ndLEp+T6Wn55/LepyFlYOTf+v899UtrOj4O1Rvan/QvQIIhPwTCaPQAAAABJRU5ErkJggg==" width="20px">&nbsp Close CDP</div>
            </div>
            <br><hr>
            <div class="container">
              <div class="financial-info-left">
                <h3>Liquidation Price</h3>
                <b><h5>${this.props.ethPriceUSD * 0.63}</h5></b>
                <h3>Current Price Info</h3>
                <b><h5>${this.props.ethPriceUSD} </h5></b>
                <h3>Liquidation Penalty </h3>
                <b><h5>${this.props.liquidationPenalty}</h5></b>
              </div>
              <div class="financial-info-right">
                <h3>Collateralization Ratio</h3>
                <b><h5>${this.props.liquidationPrice}</h5></b>
                <h3>Minimum Ratio</h3>
                <b><h5>${this.props.currentPriceInfo}</h5></b>
                <h3>Stability Fee</h3>
                <b><h5>${this.props.stabilityFee}</h5></b>
              </div>
            </div>
            <hr><br>
            <h1><center><b>ETH</b></h1>
            <div class="eth-panel-left">
              <center><h3>${this.props.deposited}</h3>
              <b>Deposited</b>
              <h6>${this.props.amountDepositedEth} ETH | ${this.props.amountDepositedUSDWorth} USD </h6>
            </div>
            <br>
            <div class="eth-panel-right">
              <center><h3>${this.props.deposited} </h3>
              <b>Max to Withdraw</b>
              <h6>${this.props.amountDepositedEth} ETH | ${this.props.amountDepositedUSDWorth} USD </h6>
            </div>
            <br>
            <div class="eth-panel-bottom">
              <center><h3>${this.props.amountToWithdraw} ETH </h3>
              <b>Max to Withdraw</b>
              <h6>${this.props.amountWithdrawableEth} ETH
              | ${this.props.amountWithdrawableUSDWorth} USD </h6>
            </div>
            <br>
            <hr><br>
            <h1><center><b>DAI</center></b></h1>
            <div class="container">
              <div class="dai-panel-left">
                <center><h3>${this.props.generated}</h3>
                <h4>Generated</h4>
                <h6>${this.props.generatedValueUSD} USD</h6>
              </div>
              <br>
              <div class="dai-panel-right">
                <center><h3>${this.props.maxToGenerate}</h3>
                <h4> Max to Generate</h4>
                <h6>${this.props.maxToGenerateValue} USD</h6>
              </div>
            </div>
        </div>
        `
    }

    web3.tokens.dataChanged = (oldTokens, updatedTokens) => {
        const currentTokenInstance = web3.tokens.data.currentInstance;
        const domHtml = new Token(currentTokenInstance).render();
        document.getElementById('root').innerHTML = domHtml;
    };

}
]]></script>